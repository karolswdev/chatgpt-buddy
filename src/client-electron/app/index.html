<!DOCTYPE html>
<html>
<head>
    <title>My Electron App</title>
</head>
<body>
<h1>Hello, Electron!</h1>
<button id="startRecording">Start Recording</button>
<button id="stopRecording" disabled>Stop Recording</button>
<audio controls></audio>
<script>
    let mediaRecorder;
    let audioChunks = [];

    document.getElementById('startRecording').addEventListener('click', async () => {
        const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
        mediaRecorder = new MediaRecorder(stream);
        mediaRecorder.ondataavailable = event => {
            audioChunks.push(event.data);
        };
        mediaRecorder.onstop = () => {
            const audioBlob = new Blob(audioChunks, { type: 'audio/mp3' });
            const audioUrl = URL.createObjectURL(audioBlob);
            const audio = document.querySelector('audio');
            audio.src = audioUrl;
            // Here you can also send the audioBlob to your backend for transcription
        };
        mediaRecorder.start();

        document.getElementById('startRecording').disabled = true;
        document.getElementById('stopRecording').disabled = false;
    });

    document.getElementById('stopRecording').addEventListener('click', () => {
        mediaRecorder.stop();

        document.getElementById('startRecording').disabled = false;
        document.getElementById('stopRecording').disabled = true;
    });
</script>

</body>
</html>
